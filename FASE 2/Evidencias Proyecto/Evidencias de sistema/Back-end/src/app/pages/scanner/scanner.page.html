<app-header [title]="'Escaneo'"></app-header>
<ion-content class="ion-padding">
  <h1>Bienvenido {{datosUser.nombre}}</h1>
  <!-- @if(!scanResult){ -->
    <h3>¡Escanea un producto!</h3>
    <p>Recuerda que el producto debe tener un codigo similar a este:</p>
    <img src="assets/EAN13.png" alt="Codigo de barra">
  <!-- }@else { -->
    <ion-modal
    #productScanned
    [isOpen]="isScanned"
    (didDismiss)="isScanned=false">
    <ng-template>
      <ion-header class="ion-no-border">
        <ion-toolbar>
          <ion-title>¡Has escaneado el producto!</ion-title>
          <ion-buttons slot="end">
            <ion-button style="width: 40px; height: 40px;" (click)="productScanned.dismiss()">
              <ion-icon name="close-outline" style="font-size: 100px;"></ion-icon>
            </ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>

      <ion-content>
        <img src="assets/FARO.png">
        <h2>{{productoEscaneado.nombre}}</h2>
        <p>Precio: {{productoEscaneado.precio}}</p>
        <p>Año: {{productoEscaneado.annio}}</p>
        <p>Categoria: {{productoEscaneado.id_categoria}}</p>
        <p>Marca: {{productoEscaneado.marca}}</p>
        <p>Descripcion: {{productoEscaneado.descripcion}}</p>

            <ion-button style="width: 80%; margin-top: 10%; margin-left: 10%; margin-right: 10%;" (click)="agregarProducto()">Agregar al carrito</ion-button>

      </ion-content>
    </ng-template>

    </ion-modal>

  <!-- } -->
  <ion-button style="width: 80%; margin-bottom: 10%; margin-left: 10%; margin-right: 10%;" (click)="scanBarcode()">Iniciar Escaneo</ion-button> 




</ion-content>
