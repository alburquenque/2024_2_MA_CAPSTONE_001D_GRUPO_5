<app-header [title]="'Reportes'"></app-header>


<ion-content>

  <ion-grid class="ion-padding">
    <ion-row>
      <ion-col size="12" size-md="6" class="ion-text-end">
        <ion-button fill="outline" (click)="exportarDatos()">
          <ion-icon name="download-outline" slot="start"></ion-icon>
          Exportar Datos
        </ion-button>
      </ion-col>
      <ion-col size="6" size-md="3">
        <ion-card class="stat-card">
          <ion-card-content>
            <div class="stat-icon">
              <ion-icon name="scan-outline" color="primary"></ion-icon>
            </div>
            <h2>9,200</h2>
            <p>Escaneos totales</p>
          </ion-card-content>
        </ion-card>
      </ion-col>

      <ion-col size="6" size-md="3">
        <ion-card class="stat-card">
          <ion-card-content>
            <div class="stat-icon">
              <ion-icon name="cart-outline" color="success"></ion-icon>
            </div>
            <h2>${{ metricas.totalVentas | number }}</h2>
            <p>Total Ventas</p>

          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>

  <ion-grid class="ion-padding">
    <ion-row>
      <ion-col size="12">
        <ion-card>
          <ion-card-header>
            <ion-card-title>Ventas por Categoría</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div style="height: 400px;">
              <canvas #chartVentasPorCategoria></canvas>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  
    <ion-row>
      <ion-col size="12">
        <ion-card>
          <ion-card-header>
            <ion-card-title>Productos Más Vendidos (5 primeros)</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div style="height: 400px;">
              <canvas #chartTopProductos></canvas>
            </div>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>